# Claude Code Memory - Gemini CLI é¡¹ç›®

## ğŸ“ é¡¹ç›®è®°å¿†åº“

æœ¬æ–‡æ¡£è®°å½•äº†åœ¨ Gemini CLI é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­çš„é‡è¦ä¿¡æ¯ã€ç»éªŒå’Œæœ€ä½³å®è·µã€‚

## ğŸ—ï¸ é¡¹ç›®æ¶æ„è®°å¿†

### Core æ¨¡å—åˆ†æ

- **ContentGenerator**: æ ¸å¿ƒæŠ½è±¡å±‚ï¼Œç»Ÿä¸€ç®¡ç†å¤šç§ AI æœåŠ¡æ¥å£
  - æ”¯æŒ Google AIã€Vertex AIã€Code Assist ç­‰å¤šç§åç«¯
  - ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼å®ç°æ—¥å¿—å’Œå½•åˆ¶åŠŸèƒ½
  - å·¥å‚æ¨¡å¼è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å®ç°

- **Write-Todos**: ä»»åŠ¡ç®¡ç†å·¥å…·
  - æä¾›å››ç§çŠ¶æ€ï¼špending, in_progress, completed, cancelled
  - ç¡®ä¿åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡å¤„äº in_progress çŠ¶æ€
  - å‰ç«¯ä½¿ç”¨ React + Ink å®ç°ç»ˆç«¯ UI

### æŠ€æœ¯æ ˆè®°å¿†

```
å‰ç«¯: React + Ink (ç»ˆç«¯ UI)
åç«¯: Node.js + TypeScript
æ¶æ„: Monorepo (npm workspaces)
æ„å»º: esbuild + è‡ªå®šä¹‰è„šæœ¬
æµ‹è¯•: Vitest
```

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### å¿…éœ€ç¯å¢ƒ

- Node.js >= 20.0.0
- npm workspaces æ”¯æŒ

### å¯åŠ¨æµç¨‹

```bash
npm install      # å®‰è£…ä¾èµ–
npm run build    # æ„å»ºé¡¹ç›®ï¼ˆå¿…é¡»ï¼‰
npm start        # å¯åŠ¨å¼€å‘ç¯å¢ƒ
```

### å…³é”®è„šæœ¬

| å‘½ä»¤            | ä½œç”¨         | ä½¿ç”¨åœºæ™¯           |
| --------------- | ------------ | ------------------ |
| `npm run build` | æ„å»ºæ‰€æœ‰åŒ…   | ä»£ç å˜æ›´åå¿…é¡»æ‰§è¡Œ |
| `npm start`     | å¯åŠ¨å¼€å‘ç¯å¢ƒ | æ—¥å¸¸å¼€å‘           |
| `npm run debug` | è°ƒè¯•æ¨¡å¼     | é—®é¢˜æ’æŸ¥           |
| `npm run test`  | è¿è¡Œæµ‹è¯•     | ä»£ç éªŒè¯           |

## ğŸ› å¸¸è§é—®é¢˜è®°å¿†

### 1. æ„å»ºé—®é¢˜

- **é—®é¢˜**: `packages/cli/dist/` ç›®å½•ä¸å­˜åœ¨
- **åŸå› **: æœªæ‰§è¡Œæ„å»ºå‘½ä»¤
- **è§£å†³**: `npm run build`

### 2. ä¾èµ–é—®é¢˜

- **é—®é¢˜**: æ¨¡å—æ‰¾ä¸åˆ°æˆ–ç‰ˆæœ¬å†²çª
- **è§£å†³**:
  ```bash
  npm run clean
  rm -rf node_modules package-lock.json
  npm install
  ```

### 3. TypeScript ç±»å‹é”™è¯¯

- **é—®é¢˜**: ç±»å‹æ£€æŸ¥å¤±è´¥
- **è§£å†³**: `npm run typecheck`

## ğŸ“‹ ä»£ç è§„èŒƒè®°å¿†

### æ–‡ä»¶ç»“æ„

```
packages/
â”œâ”€â”€ cli/           # CLI ä¸»åº”ç”¨
â”œâ”€â”€ core/          # æ ¸å¿ƒåŠŸèƒ½
â”œâ”€â”€ test-utils/    # æµ‹è¯•å·¥å…·
â””â”€â”€ ...
```

### å‘½åçº¦å®š

- æ–‡ä»¶åï¼škebab-case (`content-generator.ts`)
- ç±»åï¼šPascalCase (`ContentGenerator`)
- å‡½æ•°åï¼šcamelCase (`createContentGenerator`)
- å¸¸é‡ï¼šUPPER_SNAKE_CASE (`WRITE_TODOS_TOOL_NAME`)

### è®¾è®¡æ¨¡å¼åº”ç”¨

- **ç­–ç•¥æ¨¡å¼**: ContentGenerator å¤šç§å®ç°
- **è£…é¥°å™¨æ¨¡å¼**: LoggingContentGenerator, RecordingContentGenerator
- **å·¥å‚æ¨¡å¼**: createContentGenerator()

## ğŸ” è°ƒè¯•æŠ€å·§è®°å¿†

### 1. å¯ç”¨è¯¦ç»†æ—¥å¿—

```bash
DEBUG=* npm start
```

### 2. å•ç‹¬æµ‹è¯•åŒ…

```bash
npm test --workspace @google/gemini-cli-core
```

### 3. æ£€æŸ¥æ„å»ºäº§ç‰©

```bash
ls -la packages/cli/dist/
ls -la bundle/
```

## ğŸš€ éƒ¨ç½²å’Œå‘å¸ƒ

### å‘å¸ƒæµç¨‹

1. ä»£ç æäº¤å’Œæµ‹è¯•
2. ç‰ˆæœ¬å·æ›´æ–°ï¼š`npm run release:version`
3. æ„å»ºï¼š`npm run build:all`
4. æ‰“åŒ…ï¼š`npm run bundle`

### ç‰ˆæœ¬ç®¡ç†

- **Nightly**: æ¯æ—¥æ„å»º (`@nightly`)
- **Preview**: æ¯å‘¨é¢„è§ˆ (`@preview`)
- **Stable**: ç¨³å®šç‰ˆæœ¬ (`@latest`)

## ğŸ“š å­¦ä¹ èµ„æº

### é‡è¦æ–‡æ¡£

- [Gemini CLI å®˜æ–¹æ–‡æ¡£](https://geminicli.com/docs/)
- [é¡¹ç›® README](../README.md)
- [è´¡çŒ®æŒ‡å—](../CONTRIBUTING.md)

### ä»£ç åˆ†ææ–‡æ¡£

- [ContentGenerator æ·±å…¥åˆ†æ](./contentGenerator-analysis.md)
- [Write-Todos å·¥å…·åˆ†æ](./write-todos-analysis.md)
- [é¡¹ç›®å¯åŠ¨æŒ‡å—](./gemini-cli-startup-guide.md)

## ğŸ¯ æœ€ä½³å®è·µè®°å¿†

### å¼€å‘æµç¨‹

1. **åˆ†æ”¯ç®¡ç†**: ä» main åˆ†æ”¯åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. **ä»£ç ç¼–å†™**: éµå¾ª TypeScript æœ€ä½³å®è·µ
3. **æµ‹è¯•**: ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **æäº¤**: è¿è¡Œ `npm run lint:fix` å’Œ `npm run typecheck`
5. **åˆå¹¶**: é€šè¿‡ PR å®¡æŸ¥ååˆå¹¶

### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ `useMemo` å’Œ `useCallback` ä¼˜åŒ– React ç»„ä»¶
- åˆç†ä½¿ç”¨ ContentGenerator çš„ç¼“å­˜æœºåˆ¶
- é¿å…ä¸å¿…è¦çš„é‡æ–°æ„å»º

### é”™è¯¯å¤„ç†

- ç»Ÿä¸€ä½¿ç”¨ try-catch å¤„ç†å¼‚æ­¥æ“ä½œ
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
- è®°å½•é”™è¯¯æ—¥å¿—ç”¨äºè°ƒè¯•

## ğŸ”„ é¡¹ç›®æ¼”è¿›è®°å¿†

### ç‰ˆæœ¬å†å²è¦ç‚¹

- v0.15.0: å½“å‰å¼€å‘ç‰ˆæœ¬
- ä¸»è¦ç‰¹æ€§ï¼šå¤šæ¨¡æ€æ”¯æŒã€MCP åè®®ã€å·¥å…·ç³»ç»Ÿ

### æŠ€æœ¯å€ºåŠ¡

- [ ] ä¼˜åŒ–æ„å»ºé€Ÿåº¦
- [ ] æ”¹è¿›é”™è¯¯å¤„ç†æœºåˆ¶
- [ ] å¢å¼ºæµ‹è¯•è¦†ç›–ç‡

### æœªæ¥è§„åˆ’

- æ”¯æŒæ›´å¤š AI æ¨¡å‹
- å¢å¼ºæ’ä»¶ç³»ç»Ÿ
- æ”¹è¿›ç”¨æˆ·ä½“éªŒ

---

_æœ€åæ›´æ–°: 2024-11-10_ _ç»´æŠ¤è€…: Claude Code_
