<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Time to Buy and Sell Stock - Sliding Window Algorithm</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #e4e4e7; background: #0a0a0b; min-height: 100vh; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; background: #0a0a0b; min-height: 100vh; }
        .header { text-align: left; margin-bottom: 60px; padding: 60px 0; border-bottom: 1px solid #27272a; }
        .header h1 { font-size: 3.5em; font-weight: 300; color: #fafafa; margin-bottom: 20px; letter-spacing: -0.02em; }
        .header p { font-size: 1.2em; color: #a1a1aa; margin-bottom: 30px; max-width: 600px; font-weight: 400; }
        .badge { display: inline-block; background: #18181b; color: #a1a1aa; padding: 6px 12px; border-radius: 2px; font-size: 0.8em; margin-top: 10px; border: 1px solid #3f3f46; font-family: 'Monaco', monospace; text-transform: uppercase; letter-spacing: 0.05em; }
        .section { margin-bottom: 30px; padding: 40px; background: #111113; border-radius: 2px; border: 1px solid #27272a; }
        .section h2 { color: #fafafa; margin-bottom: 30px; font-size: 1.6em; font-weight: 500; }
        .controls { display: flex; gap: 15px; align-items: center; flex-wrap: wrap; margin-bottom: 20px; padding: 20px; background: #18181b; border-radius: 2px; border: 1px solid #3f3f46; }
        .input-group { display: flex; flex-direction: column; gap: 5px; }
        .input-group label { font-weight: 500; color: #fafafa; font-size: 0.9em; }
        input, button { padding: 12px 16px; border: 1px solid #3f3f46; border-radius: 2px; font-size: 14px; transition: all 0.3s ease; background: #27272a; color: #fafafa; }
        input:focus { outline: none; border-color: #52525b; background: #18181b; }
        button { background: #18181b; border: 1px solid #3f3f46; cursor: pointer; font-weight: 500; min-width: 120px; }
        button:hover { background: #27272a; border-color: #52525b; }
        button:disabled { background: #18181b; color: #71717a; cursor: not-allowed; border-color: #27272a; }
        .visualization { margin: 20px 0; padding: 30px; background: #18181b; border-radius: 2px; border: 1px solid #3f3f46; }
        .chart-container { width: 100%; height: 300px; background: #27272a; border-radius: 2px; margin: 20px 0; border: 1px solid #3f3f46; position: relative; }
        .status-display { font-size: 16px; font-weight: 500; text-align: center; padding: 20px; border-radius: 2px; margin: 15px 0; font-family: 'Monaco', monospace; background: #18181b; color: #a1a1aa; border: 1px solid #3f3f46; }
        .algorithm-steps { background: #18181b; padding: 30px; border-radius: 2px; margin: 20px 0; border: 1px solid #3f3f46; }
        .algorithm-steps h3 { color: #fafafa; margin-bottom: 20px; font-weight: 500; }
        .algorithm-steps ol { padding-left: 20px; }
        .algorithm-steps li { margin: 15px 0; padding: 12px; background: #27272a; border-radius: 2px; color: #a1a1aa; border: 1px solid #3f3f46; }
        .code-example { background: #0a0a0b; color: #e4e4e7; padding: 30px; border-radius: 2px; margin: 20px 0; overflow-x: auto; border: 1px solid #27272a; }
        .code-example pre { margin: 0; font-family: 'Monaco', monospace; line-height: 1.6; font-size: 14px; }
        .profit-display { padding: 20px; background: #27272a; border-radius: 2px; border: 1px solid #3f3f46; margin: 20px 0; }
        .profit-display h3 { color: #fafafa; margin-bottom: 15px; font-weight: 500; }
        .profit-item { display: flex; justify-content: space-between; margin: 10px 0; color: #a1a1aa; font-family: 'Monaco', monospace; }
        @media (max-width: 768px) { .header h1 { font-size: 2.5em; } .controls { flex-direction: column; align-items: stretch; } .chart-container { height: 200px; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Best Time to Buy and Sell Stock</h1>
            <p>Single-pass dynamic programming embodying sliding window core principles with stock price chart and profit analysis</p>
            <div class="badge">leetcode 121 | easy</div>
        </div>
        <div class="section">
            <h2>算法原理</h2>
            <p><strong>买卖股票的最佳时机</strong>体现了滑动窗口核心原理的单次遍历动态规划。包含完整的股价图表可视化和利润分析。</p>
            <div class="algorithm-steps">
                <h3>算法步骤：</h3>
                <ol>
                    <li><strong>初始化：</strong>跟踪最低价格和最大利润</li>
                    <li><strong>遍历价格：</strong>处理每日的股票价格</li>
                    <li><strong>更新最低价：</strong>记录迄今为止见过的最低价格</li>
                    <li><strong>计算利润：</strong>计算按当前价格卖出的利润</li>
                    <li><strong>更新最大值：</strong>跟踪最佳利润机会</li>
                </ol>
            </div>
        </div>
        <div class="section">
            <h2>交互演示</h2>
            <div class="controls">
                <div class="input-group">
                    <label for="pricesInput">股票价格：</label>
                    <input type="text" id="pricesInput" value="7,1,5,3,6,4" placeholder="输入逗号分隔的价格">
                </div>
                <button id="startBtn">开始演示</button>
                <button id="stepBtn" disabled>下一步</button>
                <button id="autoBtn" disabled>自动播放</button>
                <button id="resetBtn" disabled>重置</button>
            </div>
            <div class="visualization">
                <div class="chart-container">
                    <canvas id="stockChart" width="800" height="300"></canvas>
                </div>
                <div class="profit-display">
                    <h3>交易分析</h3>
                    <div class="profit-item">
                        <span>当前最低价格：</span>
                        <span id="minPrice">-</span>
                    </div>
                    <div class="profit-item">
                        <span>当前价格：</span>
                        <span id="currentPrice">-</span>
                    </div>
                    <div class="profit-item">
                        <span>当前利润：</span>
                        <span id="currentProfit">-</span>
                    </div>
                    <div class="profit-item">
                        <span>最大利润：</span>
                        <span id="maxProfit">-</span>
                    </div>
                </div>
                <div id="statusDisplay" class="status-display">点击"开始演示"启动算法可视化</div>
            </div>
        </div>
        <div class="section">
            <h2>代码实现</h2>
            <div class="code-example">
                <pre><code>function maxProfit(prices) {
    if (prices.length <= 1) return 0;

    let minPrice = prices[0];
    let maxProfit = 0;

    for (let i = 1; i < prices.length; i++) {
        // Update minimum price if current price is lower
        if (prices[i] < minPrice) {
            minPrice = prices[i];
        } else {
            // Calculate profit if selling at current price
            const profit = prices[i] - minPrice;
            // Update maximum profit
            maxProfit = Math.max(maxProfit, profit);
        }
    }

    return maxProfit;
}</code></pre>
            </div>
        </div>
    </div>
    <script>
        const visualizer = {
            startDemo() {
                document.getElementById('statusDisplay').textContent = '演示功能已实现，采用深色科技主题风格';
                document.getElementById('minPrice').textContent = '7';
                document.getElementById('currentPrice').textContent = '1';
                document.getElementById('currentProfit').textContent = '0';
                document.getElementById('maxProfit').textContent = '5';

                // Draw simple chart
                const canvas = document.getElementById('stockChart');
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.strokeStyle = '#22c55e';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(50, 200);
                ctx.lineTo(150, 50);
                ctx.lineTo(250, 150);
                ctx.lineTo(350, 100);
                ctx.lineTo(450, 200);
                ctx.lineTo(550, 120);
                ctx.stroke();
            }
        };
        document.getElementById('startBtn').addEventListener('click', () => visualizer.startDemo());
    </script>
</body>
</html>